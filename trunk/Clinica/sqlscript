--DROP TABLE clinicabd.PACIENTE;

CREATE TABLE clinicabd.PACIENTE
(
ID  INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT,
NOME VARCHAR(255),
RG VARCHAR(20),
CPF VARCHAR(20),
SEXO VARCHAR(1),	
RESPONSAVEL_POR INTEGER
)
;

--DROP TABLE clinicabd.CONTATO;

CREATE TABLE clinicabd.CONTATO
(
ID  INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT,
EMAIL VARCHAR(255),
TELEFONE VARCHAR(20),
FAX VARCHAR(20),
CELULAR VARCHAR(20)
)
;

--DROP TABLE clinicabd.PACIENTE_CONTATO;
CREATE TABLE clinicabd.PACIENTE_CONTATO
(
PACIENTE_ID INTEGER,
CONTATO_ID INTEGER
)
;
--DROP TABLE clinicabd.ENDERECO;
CREATE TABLE clinicabd.ENDERECO
(
ID  INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT,
ENDERECO VARCHAR(255),
CIDADE VARCHAR(255),
CEP VARCHAR(20),
BAIRRO VARCHAR(255)
)
;

CREATE TABLE clinicabd.PACIENTE_ENDERECO
(
PACIENTE_ID INTEGER,
ENDERECO_ID INTEGER
)
;

CREATE TABLE clinicabd.CONSULTA
(
ID  INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT,
VALOR DOUBLE,
DATACRIACAO DATE,
MEDICO_ID INTEGER,
PACIENTE_ID INTEGER
)
;

--DROP TABLE clinicabd.CONTRATO;

CREATE TABLE clinicabd.CONTRATO
(
ID  INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT,
PACIENTE_ID INTEGER,
MEDICO_ID INTEGER,
EM_NOME_DO_PACIENTE_ID INTEGER
)
;

--DROP TABLE clinicabd.PAGAMENTO;
CREATE TABLE clinicabd.PAGAMENTO
(
ID INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT,
CONTRATO_ID INTEGER,
DATA_PAGAMENTO DATE,
DATA_VENCIMENTO DATE,
VALOR DOUBLE,
JUROS DOUBLE,
TIPO_JUROS VARCHAR(20)
)
;
--DROP TABLE clinicabd.MEDICO;
CREATE TABLE clinicabd.MEDICO
(
ID  INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT,
CRM VARCHAR(20),
NOME VARCHAR(255),
CPF VARCHAR(20)
)
;
--DROP TABLE clinicabd.MEDICO_CONTATO;
CREATE TABLE clinicabd.MEDICO_CONTATO
(
MEDICO_ID INTEGER,
CONTATO_ID INTEGER
)
;

--DROP TABLE clinicabd.MEDICO_ENDERECO;

CREATE TABLE clinicabd.MEDICO_ENDERECO
(
MEDICO_ID INTEGER,
ENDERECO_ID INTEGER
)
;
--DROP TABLE clinicabd.PROCEDIMENTO;
CREATE TABLE clinicabd.PROCEDIMENTO
(
ID  INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT,
NOME VARCHAR(255),
DESCRICAO VARCHAR(255),
DATACRIACAO DATE
)
;

--DROP TABLE clinicabd.CONSULTA_PROCEDIMENTO;

CREATE TABLE clinicabd.CONSULTA_PROCEDIMENTO
(
CONSULTA_ID INTEGER,
PROCEDIMENTO_ID INTEGER
)
;

ALTER TABLE clinicabd.PACIENTE
ADD CONSTRAINT PACIENTE_PK PRIMARY KEY
(
ID
)
 
;

ALTER TABLE clinicabd.CONTATO
ADD CONSTRAINT CONTATO_PK PRIMARY KEY
(
ID
)
 
;

ALTER TABLE clinicabd.ENDERECO
ADD CONSTRAINT ENDERECO_PK PRIMARY KEY
(
ID
)
 
;

ALTER TABLE clinicabd.CONSULTA
ADD CONSTRAINT CONSULTA_PK PRIMARY KEY
(
ID
)
 
;

ALTER TABLE clinicabd.CONTRATO
ADD CONSTRAINT CONTRATO_PK PRIMARY KEY
(
ID
)
 
;

ALTER TABLE clinicabd.PAGAMENTO
ADD CONSTRAINT PAGAMENTO_PK PRIMARY KEY
(
ID
)
 
;

ALTER TABLE clinicabd.MEDICO
ADD CONSTRAINT MEDICO_PK PRIMARY KEY
(
ID
)
 
;

ALTER TABLE clinicabd.PROCEDIMENTO
ADD CONSTRAINT PROCEDIMENTO_PK PRIMARY KEY
(
ID
)
 
;

ALTER TABLE clinicabd.PACIENTE
ADD CONSTRAINT PACIENTE_PACIENTE_FK FOREIGN KEY
(
RESPONSAVEL_POR
)
REFERENCES clinicabd.PACIENTE
(
ID
) 
;

ALTER TABLE clinicabd.PACIENTE_CONTATO
ADD CONSTRAINT PACIENTE_CONTATO_PACIENTE_FK FOREIGN KEY
(
PACIENTE_ID
)
REFERENCES clinicabd.PACIENTE
(
ID
) 
;

ALTER TABLE clinicabd.PACIENTE_CONTATO
ADD CONSTRAINT PACIENTE_CONTATO_CONTATO_FK FOREIGN KEY
(
CONTATO_ID
)
REFERENCES clinicabd.CONTATO
(
ID
) 
;

ALTER TABLE clinicabd.PACIENTE_ENDERECO
ADD CONSTRAINT PACIENTE_ENDERECO_PACIENTE_FK FOREIGN KEY
(
PACIENTE_ID
)
REFERENCES clinicabd.PACIENTE
(
ID
) 
;

ALTER TABLE clinicabd.PACIENTE_ENDERECO
ADD CONSTRAINT PACIENTE_ENDERECO_ENDERECO_FK FOREIGN KEY
(
ENDERECO_ID
)
REFERENCES clinicabd.ENDERECO
(
ID
) 
;

ALTER TABLE clinicabd.CONSULTA
ADD CONSTRAINT CONSULTA_MEDICO_FK FOREIGN KEY
(
MEDICO_ID
)
REFERENCES clinicabd.MEDICO
(
ID
) 
;

ALTER TABLE clinicabd.CONSULTA
ADD CONSTRAINT CONSULTA_PACIENTE_FK FOREIGN KEY
(
PACIENTE_ID
)
REFERENCES clinicabd.PACIENTE
(
ID
) 
;

ALTER TABLE clinicabd.CONTRATO
ADD CONSTRAINT CONTRATO_PACIENTE_FK FOREIGN KEY
(
PACIENTE_ID
)
REFERENCES clinicabd.PACIENTE
(
ID
) 
;

ALTER TABLE clinicabd.CONTRATO
ADD CONSTRAINT CONTRATO_PACIENTE_FK1 FOREIGN KEY
(
EM_NOME_DO_PACIENTE_ID
)
REFERENCES clinicabd.PACIENTE
(
ID
) 
;

ALTER TABLE clinicabd.CONTRATO
ADD CONSTRAINT CONTRATO_MEDICO_FK FOREIGN KEY
(
MEDICO_ID
)
REFERENCES clinicabd.MEDICO
(
ID
) 
;

ALTER TABLE clinicabd.PAGAMENTO
ADD CONSTRAINT PAGAMENTO_CONTRATO_FK FOREIGN KEY
(
CONTRATO_ID
)
REFERENCES clinicabd.CONTRATO
(
ID
) 
;

ALTER TABLE clinicabd.MEDICO_CONTATO
ADD CONSTRAINT MEDICO_CONTATO_MEDICO_FK FOREIGN KEY
(
MEDICO_ID
)
REFERENCES clinicabd.MEDICO
(
ID
) 
;

ALTER TABLE clinicabd.MEDICO_CONTATO
ADD CONSTRAINT MEDICO_CONTATO_CONTATO_FK FOREIGN KEY
(
CONTATO_ID
)
REFERENCES clinicabd.CONTATO
(
ID
) 
;

ALTER TABLE clinicabd.MEDICO_ENDERECO
ADD CONSTRAINT MEDICO_ENDERECO_MEDICO_FK FOREIGN KEY
(
MEDICO_ID
)
REFERENCES clinicabd.MEDICO
(
ID
) 
;

ALTER TABLE clinicabd.MEDICO_ENDERECO
ADD CONSTRAINT MEDICO_ENDERECO_ENDERECO_FK FOREIGN KEY
(
ENDERECO_ID
)
REFERENCES clinicabd.ENDERECO
(
ID
) 
;

ALTER TABLE clinicabd.CONSULTA_PROCEDIMENTO
ADD CONSTRAINT CONSULTA_PROCEDIMENTO_FK FOREIGN KEY
(
CONSULTA_ID
)
REFERENCES clinicabd.CONSULTA
(
ID
) 
;

ALTER TABLE clinicabd.CONSULTA_PROCEDIMENTO
ADD CONSTRAINT CONSULTA_PROCEDIMENTO_FK1 FOREIGN KEY
(
PROCEDIMENTO_ID
)
REFERENCES clinicabd.PROCEDIMENTO
(
ID
) 
;
